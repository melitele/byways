@import 'reset'
@import 'clearfix'
@import 'fonts'

// #####  Color Palette by Color Scheme Designer
// #####  Palette URL: http://colorschemedesigner.com/#3B21CrXrbcOvy
// #####  Generated by Color Scheme Designer (c) Petr Stanicek 2002-2010

:root
  --primary-1: #1C518D
  --primary-2: #234F7F
  --primary-3: #13447A
  --primary-4: #4E86C5
  --primary-5: #6D97C5

  --secondary-1: #D98E1B
  --secondary-2: #C3862A
  --secondary-3: #BA7813
  --secondary-4: #ECAE51
  --secondary-5: #ECBE79

  --text-color: white

global-reset()

*
  box-sizing border-box

.hidden
  display none

section
  clearfix()

section + section
  margin-top  1rem

a
  color var(--secondary-5)
  text-decoration none

  &:hover,
  &:active
    color var(--secondary-1)

font-text()
  font-family 'Arbutus Slab', 'Georgia', serif

font-title()
  font-family 'Capriola', 'Helvetica Neue', sans-serif

photo-size()
  overflow hidden
  max-width 500px
  max-height 375px

html
body
  min-height 100%

body
  background-color var(--primary-4)
  color var(--text-color)
  font-text()
  font-size 0.9em

header,
footer
  font-title()

body > header,
body > main
  padding 1em 1em

body > footer
  padding .6em 1em

body > header
  position relative
  width 100%
  background-color var(--primary-2)
  transition all .3s ease-in-out

  a
    transition font-size .3s ease-in-out
    color white
    text-transform uppercase
    font-size 32px
    letter-spacing .2em
    line-height 1

    h1
      color white

    h1,
    .bw-byways
      display inline

body > footer
  clear both
  position relative
  width 100%
  background-color var(--primary-2)
  font-size .9em
  line-height 1.3
  text-align center

  ul
    display inline-block

.flat-list
  text-align center

  li
    display inline-block

  li.nosep
    margin-right .5em

  li:not(.nosep):after
    margin 0 .5em
    color rgba(white, 0.75)
    font-family sans-serif
    content 'â¬¦'

  li:last-of-type:after
    content: ''
    margin 0

.states,
.byway-list,
.websites
  padding 1em
  line-height 1.5
  font-title()
  background-color var(--primary-1)
  margin-bottom 1em

  header
    font-size 1.2em
    line-height 1
    margin-bottom .2em
    position relative

.color-tag
  position absolute
  right 0
  top 0
  width 1em
  height 1em
  border-radius .5em
  border 2px solid white

.byway, .about
  line-height 1.5
  margin 1em auto
  font-size 1.2em

  header
    margin-bottom 1em
    clearfix();

    h1
      font-size 1.2em

    p,
    .flat-list
      font-size .8em
      display inline-block

    p
      font-style italic

    .flat-list
      float right
      margin-top .25em

.swipe
  .next,
  .prev
    position absolute
    width 2em
    height 2em
    top 50%
    margin-top -1em
    display block
    background rgba(white, .75)
    color rgba(black, .75)
    text-align center
    font-size .8em
    line-height 2
    transition all 0.3s ease-in-out

  .prev
    left 0
    transform translateX(-100%)

  .next
    right 0
    transform translateX(100%)

  &:hover
    .next,
    .prev
      background rgba(white, .75)
      transform translateX(0)

  li
    display table-cell


.byway
  .photos
    margin 1em auto
    width 100%
    position relative
    photo-size()

    li
      photo-size()

    .photo
      position relative
      photo-size()
      display inline-block
      background black
      text-align left
      font-size .8em
      margin 0

      img
        display block
        max-width 100%
        transition opacity 0.3s ease-in-out

      &:hover
        .caption
          transform translateY(-100%)

        img
          opacity .75

    .caption
      position absolute
      width 100%
      padding .5em
      background rgba(white, .75)
      z-index 1
      transition transform 0.3s ease-in-out

      .title
      .author
        display block
        color #333
        text-decoration none
        line-height 1.5

      .author
        font-style italic
        font-size .9em
        float right

      .author:before
        color black
        content: 'by'
        margin-right .2em

      .copy
        font-size .6em
        color #555
        clear both

        img
          margin-bottom -4px
          display inline-block

  .description
    text-align justify

    p
      margin-top .5em

      &:first-of-type
        margin-top 0

.books
  text-align center

  .book
    position relative
    display inline-block
    vertical-align top
    width 150px
    margin .5em;

    img
      display block

    figcaption
      text-align left
      font-size .8em

      .author
        text-align right

.announcement
  line-height 1.5
  padding 1em
  margin-top 1em
  font-size 1.2em
  background-color var(--secondary-2)
  text-align: center

  a
    color var(--primary-3)

    &:hover, &:active
      color var(--primary-1)

.map
  width 100%
  aspect-ratio 16/9

.map
  iframe, #trip-map
    width 100%
    height 100%

#search-results
  max-width 1200px
  margin 1em auto 0
  padding 1em;
  background-color: #F9F5FF

  .search-result
    padding .5em 0

  .search-result-body
    color #333
    padding .75em 0
    line-height 1.4

.searchbox
  margin 1em auto
  max-width 700px
  display flex

  form
    display contents

  input[type="search"],
  input[type="submit"]
    padding .2em .5em
    -webkit-appearance none
    -webkit-border-radius 0
    border none
    outline none
    margin 0
    font-size 1.5em
    font-family sans-serif

  input[type="search"]
    flex 1
    background-color white
    color var(--primary-3)
    width 100%

  input[type="submit"]
    background-color var(--secondary-4)
    color var(--text-color)
    width 6em

    &:hover, &:active
      background-color var(--secondary-3)

.over
  box-shadow 0 2px 4px rgba(black, .5)

  a
    font-size 18px

.bw-byways:before
  margin-right .2em

// layout

@media only screen and (min-width: 100ch)
  body
    font-size 1em

  body > header,
  body > main
    padding 1em 5em

  body > footer
    padding .5em 5em

  body > header
    fixed top
    z-index 100

  body > footer
    transition transform .3s ease-in-out,
      box-shadow .3s ease-in-out
    fixed bottom
    z-index 100

  body:not(.top) > header
    box-shadow 0 2px 4px rgba(black, .5)

    a
      font-size 18px

  body:not(.bottom) > footer
    box-shadow 0 -2px 4px rgba(black, .5)
    transform translateY(85%)

    &:hover
      transform translateY(0)

  body>main
    clearfix()
    padding-top 4em
    padding-bottom 3em

  .description .books
    float right
    margin 0 0 0 .5em

    .next,
    .prev
      font-size 1.4em

  .map
    height 30rem
